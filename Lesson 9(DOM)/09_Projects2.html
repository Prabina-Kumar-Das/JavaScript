<!DOCTYPE html>
<html>
  <head>
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <p>Rock Paper Scissors</p>
    <button onclick="
    
      playGame('rock');
    
    ">Rock</button>

    <button onclick="

      playGame('paper');
    
    ">Paper</button>

    <button onclick="

      playGame('scissors');

    ">Scissors</button>
    <p class="js-result"></p>
    <p class="js-moves"></p>
    <p class="js-score"></p>

    <button onclick="
    // Score.wins = 0;
    // Score.losses = 0;
    // Score.ties = 0;
      playGame('reset_');

    ">
       Reset Score
    </button>

    <script>
      

      const Score = JSON.parse(localStorage.getItem('Score'));
      
      updateScoreElement();


      function playGame(playerMove) {

        localStorage.setItem('Name', 'Prabina');
        localStorage.setItem('Title', 'Das');
        computermove = pickComputerMove();

          result = '';
          
          if (playerMove === 'scissors') {
            if (computermove === 'rock') {
              result = 'Lose.';
            }
            else if (computermove === 'paper') {
              result = 'Win.';
            }
            else if (computermove === 'scissors') {
              result = 'Tie.';
            }
            finalScore(playerMove);
            resultElement()
            
            

          }


          if (playerMove === 'paper') {
            if (computermove === 'rock') {
              result = 'Win.';
            }
            else if (computermove === 'paper') {
              result = 'Tie.';
            }
            else if (computermove === 'scissors') {
              result = 'Lose.';
            }
            finalScore(playerMove);
            resultElement()

            

          }

          if (playerMove === 'rock') {
            if (computermove === 'rock') {
              result = 'Tie.';
            }
            else if (computermove === 'paper') {
              result = 'Lose.';
            }
            else if (computermove === 'scissors'){
              result = 'Win.';
            }
            finalScore(playerMove);
            resultElement()

          }

          if (playerMove === 'reset_') {
            Score.wins = 0;
            Score.losses = 0;
            Score.ties = 0;
            updateScoreElement();
          }

      }

      function pickComputerMove () {

        randdoNumber = Math.random();
        computermove = '';

        if (randdoNumber >= 0 && randdoNumber < 1/3) {
          computermove = 'rock';
        }
        else if (randdoNumber >= 1/3 && randdoNumber < 2/3 ) {
          computermove = 'paper';
        }
        else if (randdoNumber >= 2/3 && randdoNumber < 1){
          computermove = 'scissors';
        }
        return computermove;
      }

      function finalScore(playermove) {
        if (result === 'Win.') {
              Score.wins += 1;
            }
            else if (result ==='Lose.') {
              Score.losses += 1;
            }
            else if (result === 'Tie.') {
              Score.ties += 1;
            }
            localStorage.setItem('Score', JSON.stringify(Score));

            updateScoreElement();
            document.querySelector('.js-score').innerHTML = `You ${playerMove} - 
          ${computermove} Computer`;
            
      }

      function updateScoreElement() {
        document.querySelector('.js-score')
            .innerHTML =`Wins: ${Score.wins}, Loses: ${Score.losses}, Ties: ${Score.ties}`;
      }
      function resultElement() {
        document.querySelector('.js-moves')
          .innerHTML = `${result}`;
      }
      
    </script>
  </body>
</html>